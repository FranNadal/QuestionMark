<!DOCTYPE html>
<html>
<head>
    <title>Question Mark</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-purple.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="/view/styles/headerStyles.css">
    <link rel="stylesheet" href="/view/styles/homeViewStyles.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="/view/img_page/icono_pagina.ico" />
</head>
<body>

{{> header}}

{{#mensaje_exito}}
    <div class="w3-panel w3-green w3-display-container w3-animate-opacity">
        <span onclick="this.parentElement.style.display='none'" class="w3-button w3-large w3-display-topright">&times;</span>
        {{mensaje_exito}}
    </div>
{{/mensaje_exito}}

<div class="w3-content" style="max-width:1200px; margin-top:30px;">

    <!-- Bienvenida y puntuación -->
    <div class="w3-row-padding">
        <div class="w3-half">
            <div class="card">
                <h4>Bienvenido, <b>{{nombre_usuario}}</b></h4>
                <p>¿Listo para poner a prueba tus conocimientos?</p>
                <div class="button-group">
                    <a href="/jugar/ruleta">
                        <button class="w3-button w3-theme w3-round-large">+ Crear nueva partida</button>
                    </a>
                    <a href="/ranking/view" class="w3-button w3-border w3-round-large">👁 Ver ranking</a>
                    <a href="/index.php?controller=sugerencias&method=sugerirPregunta" class="w3-button w3-border w3-round-large">📄 Crear pregunta</a>
                </div>
            </div>
        </div>

        <div class="w3-half">
            <div class="card w3-center">
                <h3 class="w3-text-purple">{{puntaje}}</h3>
                <p>Posición #{{posicion_ranking}} en el ranking global</p>
                <i class="fa fa-trophy w3-xlarge w3-text-amber"></i>
            </div>
        </div>
    </div>

    <!-- Historial de partidas -->
    <div class="card">
        <div class="w3-bar w3-border-bottom">
            <button class="w3-bar-item w3-button w3-theme-light w3-border-right">Historial de partidas</button>
            <button class="w3-bar-item w3-button">Amigos</button>
        </div>

        <h5 class="w3-margin-top">Tus partidas recientes</h5>

        <ul class="w3-ul w3-hoverable">
            {{#partidas}}
                <li class="w3-padding-16">
                    <span class="w3-large">{{#oponente}}{{oponente}}{{/oponente}}{{^oponente}}Sin oponente{{/oponente}}</span>
                    <span class="w3-right {{resultado}}">{{resultado}} · {{puntaje}} pts</span><br>
                    <span class="w3-small">{{fecha_formateada}}</span>
                </li>
            {{/partidas}}

            {{^partidas}}
                <li class="w3-padding-16 w3-text-grey w3-center">No hay partidas recientes</li>
            {{/partidas}}
        </ul>
    </div>
</div>

</body>
</html>
